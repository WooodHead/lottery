webpackJsonp([9],{1918:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateBanner=t.addBanner=t.save=t.update=t.loadBanner=void 0;var n=r(154),u=a(n),s=r(242),d=a(s),c=(t.loadBanner=function(){var e=(0,d.default)(u.default.mark(function e(t){var r,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id||0,a=r?"/api/banner/banner/"+r:"/api/banner/banner",e.abrupt("return",(0,c.request)({url:a,method:"get"}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,d.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id||0){e.next=3;break}return e.abrupt("return");case 3:return delete t.id,e.abrupt("return",(0,c.request)({url:"/api/banner/banner/"+r,method:"put",data:t}));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.save=function(){var e=(0,d.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)({url:"/api/banner/banner",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addBanner=function(){var e=(0,d.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)({url:"/api/banner",method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.updateBanner=function(){var e=(0,d.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)({url:"/api/banner",method:"put",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r(90))},805:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(154),u=a(n),s=r(1),d=a(s),c=r(1918),l={id:"",addr_url:"",status:0,img_url:""};t.default={namespace:"bannerForm",state:(0,d.default)({},l),effects:{loadBanner:u.default.mark(function e(t,r){var a,n=t.payload,s=r.call,d=r.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(c.loadBanner,n);case 2:if(!(a=e.sent)||!a.success){e.next=6;break}return e.next=6,d({type:"loadBannerSuccess",payload:a});case 6:case"end":return e.stop()}},e,this)}),setUrl:u.default.mark(function e(t,r){var a=t.payload,n=(r.call,r.put);return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"updateUrl",payload:a});case 2:case"end":return e.stop()}},e,this)}),saveBanner:u.default.mark(function e(t,r){var a,n,s,d=t.payload,l=r.call,o=r.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,n=d.callback,delete d.callback,s={status:d.status||0,img_url:d.img_url,addr_url:d.addr_url},!d.id){e.next=11;break}return s.id=d.id,e.next=8,l(c.update,s);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,l(c.save,s);case 13:a=e.sent;case 14:return e.next=16,o({type:"loadBannerSuccess",payload:a});case 16:n&&n(a);case 17:case"end":return e.stop()}},e,this)})},reducers:{resetState:function(e){return(0,d.default)({},e,l)},updateUrl:function(e,t){return(0,d.default)({},e,{img_url:t.payload.img_url})},loadBannerSuccess:function(e,t){var r=t.payload&&t.payload.data;return r?(0,d.default)({},e,r):e}}},e.exports=t.default}});