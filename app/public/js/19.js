webpackJsonp([19],{1850:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(787),i=n(o),s=a(101),l=n(s),d=a(1),r=n(d),u=a(370),c=n(u),p=a(124),h=n(p),m=a(2),f=n(m),g=a(6),y=n(g),v=a(4),w=n(v),b=a(5),x=n(b);a(788),a(125),a(371);var P=a(0),R=n(P),k=a(368),_=(a(50),a(186)),K=[{title:"序号",dataIndex:"id"},{title:"赛事名称",dataIndex:"games_name"},{title:"主场名称",dataIndex:"master_count"},{title:"客场名称",dataIndex:"slave_count"},{title:"房间数",dataIndex:"room_nums"},{title:"收取佣金(%)",dataIndex:"commission"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"create_time"},{title:"更新时间",dataIndex:"update_time"},{title:"操作",width:150}],C={display:"inline-block",padding:"0 10px",cursor:"pointer"},I=function(e){function t(e,a){(0,f.default)(this,t);var n=(0,w.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e,a)),o=K.length;return K[o-1].render=function(e,t,a){return R.default.createElement("div",null,R.default.createElement("span",{onClick:n.toGamesPointForm.bind(n,t.id),style:C},"编辑"))},n}return(0,x.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){this.loadTableData()}},{key:"loadTableData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.props.dispatch({type:"gamesPoint/loadGamesPoint",payload:{page:e,pageSize:t}})}},{key:"tableChange",value:function(e){this.loadTableData(e.current,e.pageSize)}},{key:"selectRow",value:function(e){this.props.dispatch({type:"gamesPoint/selectedRowKeys",payload:{selectedRowKeys:e}})}},{key:"toGamesPointForm",value:function(e){e?this.props.dispatch(_.routerRedux.push({pathname:"/gamesPoint/edit/"+e})):this.props.dispatch(_.routerRedux.push({pathname:"/gamesPoint/create"}))}},{key:"deleteGamesPoint",value:function(){var e=this;this.props.selectedRowKeys.length>0?c.default.confirm({title:"确定要删除所选数据?",content:"点击确定，数据则被删除",onOk:function(){var t=[];e.props.list.forEach(function(a,n){-1!==e.props.selectedRowKeys.indexOf(a.id)&&t.push(a.template)}),e.props.dispatch({type:"gamesPoint/removeGamesPoint",payload:{selectedRowKeys:e.props.selectedRowKeys,templateArr:t}})}}):c.default.warning({title:"未选中任何数据",content:"请选择要删除的数据"})}},{key:"render",value:function(){var e={selectedRowKeys:this.props.selectedRowKeys,onChange:this.selectRow.bind(this)},t=(0,r.default)({showTotal:function(e){return"共"+e+"条数据"},showSizeChanger:!0,showQuickJumper:!0},this.props.pagination);return R.default.createElement("div",{className:"content-inner"},R.default.createElement("div",{style:{paddingBottom:10,marginBottom:20,borderBottom:"1px solid #ddd"}},R.default.createElement(l.default,{onClick:this.toGamesPointForm.bind(this,0),style:{marginRight:10}},"新增"),R.default.createElement(l.default,{onClick:this.deleteGamesPoint.bind(this)},"删除")),R.default.createElement(i.default,{columns:K,rowSelection:e,pagination:t,dataSource:this.props.list,rowKey:"id",loading:this.props.loading,bordered:!0,onChange:this.tableChange.bind(this)}))}}]),t}(P.Component);I.contextTypes={router:P.PropTypes.object},t.default=(0,k.connect)(function(e){var t=e.gamesPoint;return{list:t.list,loading:t.loading,total:t.total,selectedRowKeys:t.selectedRowKeys,pagination:t.pagination}})(I),e.exports=t.default}});